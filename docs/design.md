# PanelVerse - å®Œæ•´è®¾è®¡æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**PanelVerse** æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç¤¾åŒºé©±åŠ¨å‹ Graphic Novel åˆ†äº«å¹³å°ï¼Œç”¨æˆ·å¯ä»¥è®°å½•ã€åˆ†äº«å’Œå‘ç°ä¼˜ç§€çš„å›¾åƒå°è¯´ã€‚

> *Explore the infinite universe of graphic novels* ğŸŒŒ

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 
- ğŸ“š **ä¸ªäººä¹¦åº“ç®¡ç†**ï¼šè®°å½•å’Œç®¡ç†è‡ªå·±é˜…è¯»è¿‡çš„ graphic novels
- ğŸŒ **ç¤¾åŒºå‘ç°**ï¼šå‘ç°å…¶ä»–è¯»è€…å–œæ¬¢çš„ä½œå“
- ğŸ·ï¸ **æ™ºèƒ½åˆ†ç±»**ï¼šçµæ´»çš„åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- ğŸ¤ **ç¤¾äº¤äº’åŠ¨**ï¼šè¯„åˆ†ã€è¯„è®ºã€å…³æ³¨åŠŸèƒ½

---

## ğŸ¨ ç”¨æˆ·ä½“éªŒè®¾è®¡

### é¡µé¢ç»“æ„

#### 1. **é¦–é¡µ (Home)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    [æ¢ç´¢] [æˆ‘çš„ä¹¦åº“] [æ·»åŠ ä¹¦ç±]      [ğŸ”] [ğŸ‘¤] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  ğŸ”¥ æœ¬å‘¨æœ€å—æ¬¢è¿  |  ğŸ“… æœ¬æœˆçƒ­é—¨  |  ğŸ†• æœ€æ–°æ·»åŠ       â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                    â”‚
â”‚  â”‚   â”‚ â”‚   â”‚ â”‚   â”‚ â”‚   â”‚ â”‚   â”‚  (æ¨ªå‘æ»šåŠ¨å¡ç‰‡)     â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                    â”‚
â”‚                                                       â”‚
â”‚  ğŸ“‚ æŒ‰åˆ†ç±»æµè§ˆ                                        â”‚
â”‚  [ä¾¦æ¢] [æƒ…æ„Ÿ] [éè™šæ„] [ä¼ è®°] [ç§‘å¹»] [å¥‡å¹»] ...      â”‚
â”‚                                                       â”‚
â”‚  ğŸ·ï¸ çƒ­é—¨æ ‡ç­¾                                         â”‚
â”‚  #noir #romance #superhero #memoir ...              â”‚
â”‚                                                       â”‚
â”‚  ğŸ“Š ç¤¾åŒºç»Ÿè®¡                                          â”‚
â”‚  æ€»ä¹¦ç±: 1,234 | æ´»è·ƒè¯»è€…: 567 | æœ¬å‘¨æ–°å¢: 89         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. **åˆ†ç±»/æ ‡ç­¾æµè§ˆé¡µ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›   ä¾¦æ¢ç±» Graphic Novels                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ’åº: [æœ€æ–°] [çƒ­é—¨] [è¯„åˆ†]  ç­›é€‰: [å…¨éƒ¨] [æ ‡ç­¾â–¼]     â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  [å°é¢]  â”‚  â”‚  [å°é¢]  â”‚  â”‚  [å°é¢]  â”‚          â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚          â”‚
â”‚  â”‚ ä¹¦å     â”‚  â”‚ ä¹¦å     â”‚  â”‚ ä¹¦å     â”‚          â”‚
â”‚  â”‚ By ä½œè€…  â”‚  â”‚ By ä½œè€…  â”‚  â”‚ By ä½œè€…  â”‚          â”‚
â”‚  â”‚ â­ 4.5   â”‚  â”‚ â­ 4.2   â”‚  â”‚ â­ 4.8   â”‚          â”‚
â”‚  â”‚ ğŸ‘¥ 234äºº â”‚  â”‚ ğŸ‘¥ 189äºº â”‚  â”‚ ğŸ‘¥ 456äºº â”‚          â”‚
â”‚  â”‚[View][ ]â”‚  â”‚[View][ ]â”‚  â”‚[View][ ]â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                       â”‚
â”‚  (ç½‘æ ¼å¸ƒå±€ï¼Œå“åº”å¼ 2-6 åˆ—)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. **ä¹¦ç±è¯¦æƒ…é¡µ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   ä¹¦å                                â”‚
â”‚  â”‚          â”‚   By ä½œè€…å                           â”‚
â”‚  â”‚  [å°é¢]  â”‚   â­ 4.5/5 (234 è¯„åˆ†)                 â”‚
â”‚  â”‚  å¤§å›¾    â”‚   ğŸ‘¥ 456 äººè¯»è¿‡                       â”‚
â”‚  â”‚          â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   ğŸ“‚ ä¾¦æ¢, æ‚¬ç–‘                        â”‚
â”‚                  ğŸ·ï¸ #noir #detective #thriller      â”‚
â”‚  [æ ‡è®°å·²è¯»] [æƒ³è¯»] [æ”¶è—]                            â”‚
â”‚  æ‚¨çš„è¯„åˆ†: â­â­â­â­â­                                  â”‚
â”‚                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚
â”‚  ğŸ“– ç®€ä»‹                                             â”‚
â”‚  (ä¹¦ç±æè¿°ï¼Œä» API è·å–æˆ–ç”¨æˆ·å¡«å†™)                    â”‚
â”‚                                                       â”‚
â”‚  ğŸ’¬ ç¤¾åŒºè¯„ä»· (234)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ğŸ‘¤ User1  â­â­â­â­â­  2å¤©å‰            â”‚            â”‚
â”‚  â”‚ "Amazing artwork and gripping story" â”‚            â”‚
â”‚  â”‚ ğŸ‘ 12  ğŸ’¬ å›å¤                        â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                       â”‚
â”‚  ğŸ“š ç›¸ä¼¼æ¨è                                          â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. **æ·»åŠ ä¹¦ç±é¡µé¢**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ  Graphic Novel                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢ä¹¦ç±ï¼ˆä½¿ç”¨ APIï¼‰                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ è¾“å…¥ä¹¦åæˆ– ISBN...               â”‚  [æœç´¢]       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                       â”‚
â”‚  æœç´¢ç»“æœ:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ [å°é¢] ä¹¦å - ä½œè€… [é€‰æ‹©è¿™æœ¬] â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€ æˆ–æ‰‹åŠ¨æ·»åŠ  â”€â”€â”€â”€â”€â”€                            â”‚
â”‚                                                       â”‚
â”‚  ä¹¦å*       [________________]                      â”‚
â”‚  ä½œè€…*       [________________]                      â”‚
â”‚  ISBN        [________________]                      â”‚
â”‚  å°é¢ä¸Šä¼     [é€‰æ‹©æ–‡ä»¶] æˆ– [URL]                      â”‚
â”‚                                                       â”‚
â”‚  âš ï¸ è¿™æ˜¯ Graphic Novel å—ï¼Ÿ                          â”‚
â”‚  â—‹ æ˜¯ (é»˜è®¤)  â—‹ å¦ (é Graphic Novel)                â”‚
â”‚                                                       â”‚
â”‚  åˆ†ç±»*       [ä¸‹æ‹‰é€‰æ‹©] æˆ– [+ åˆ›å»ºæ–°åˆ†ç±»]             â”‚
â”‚  æ ‡ç­¾        [tag1] [tag2] [+ æ·»åŠ ]                  â”‚
â”‚                                                       â”‚
â”‚  æ‚¨çš„è¯„åˆ†    â­â­â­â­â­                                â”‚
â”‚  é˜…è¯»ç¬”è®°    [æ–‡æœ¬æ¡†]                                 â”‚
â”‚                                                       â”‚
â”‚  [å–æ¶ˆ]  [æ·»åŠ åˆ°æˆ‘çš„ä¹¦åº“]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5. **ä¸ªäººä¸»é¡µ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ ç”¨æˆ·å                              [ç¼–è¾‘èµ„æ–™]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ç»Ÿè®¡                                              â”‚
â”‚  å·²è¯»: 120  |  æƒ³è¯»: 45  |  å…³æ³¨: 23  |  ç²‰ä¸: 67    â”‚
â”‚                                                       â”‚
â”‚  [æˆ‘çš„ä¹¦åº“] [æƒ³è¯»åˆ—è¡¨] [å…³æ³¨çš„äºº] [è®¾ç½®]              â”‚
â”‚                                                       â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                 â”‚
â”‚  æˆ‘çš„ Graphic Novels (120)                           â”‚
â”‚  æ’åº: [æœ€è¿‘æ·»åŠ â–¼]  ç­›é€‰: [å…¨éƒ¨åˆ†ç±»â–¼]                â”‚
â”‚                                                       â”‚
â”‚  (ç½‘æ ¼å±•ç¤ºç”¨æˆ·æ·»åŠ çš„ä¹¦ç±)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¨èæŠ€æœ¯æ ˆ

#### **å‰ç«¯**
- **æ¡†æ¶**: Next.js 14 (App Router)
  - æ”¯æŒ SSR/SSGï¼ŒSEO å‹å¥½
  - API Routes ç”¨äº serverless functions
  - ä¼˜ç§€çš„æ€§èƒ½å’Œå¼€å‘ä½“éªŒ
- **æ ·å¼**: Vanilla CSS + CSS Modules
  - å®Œå…¨æ§åˆ¶ï¼Œç°ä»£è®¾è®¡
  - æš—è‰²ä¸»é¢˜æ”¯æŒ
- **UI å¢å¼º**:
  - Framer Motion (åŠ¨ç”»)
  - React Icons (å›¾æ ‡)
- **çŠ¶æ€ç®¡ç†**: React Context + Hooks (ä¸­å°è§„æ¨¡è¶³å¤Ÿ)
- **è¡¨å•**: React Hook Form + Zod (éªŒè¯)

#### **åç«¯ / æ•°æ®åº“**
- **å¹³å°**: Cloudflare Pages + Workers
  - å…¨çƒ CDNï¼Œè¶…å¿«é€Ÿåº¦
  - Serverlessï¼ŒæŒ‰éœ€æ‰©å±•
  - å…è´¹é¢åº¦æ…·æ…¨
- **æ•°æ®åº“**: Cloudflare D1 (SQLite)
  - æ— æœåŠ¡å™¨ SQL æ•°æ®åº“
  - ä¸ Workers å®Œç¾é›†æˆ
  - å…è´¹é¢åº¦: 5GB å­˜å‚¨
- **æ–‡ä»¶å­˜å‚¨**: Cloudflare R2
  - S3 å…¼å®¹çš„å¯¹è±¡å­˜å‚¨
  - å­˜å‚¨ä¹¦ç±å°é¢å›¾ç‰‡
  - æ— å‡ºç«™è´¹ç”¨
- **è®¤è¯**: Auth.js (NextAuth.js)
  - æ”¯æŒ Google OAuth
  - æ”¯æŒ Twitter/X OAuth
  - å®‰å…¨ä¸”æ˜“äºé›†æˆ

#### **å¤–éƒ¨ API é›†æˆ**
- **Google Books API**
  - å…è´¹ï¼Œæ¯å¤© 1000 æ¬¡è¯·æ±‚
  - ä¸°å¯Œçš„ä¹¦ç±å…ƒæ•°æ®
  - å°é¢å›¾ç‰‡
- **Open Library API** (å¤‡ç”¨)
  - å…è´¹ï¼Œæ— é™åˆ¶
  - è¦†ç›–èŒƒå›´å¹¿

#### **æœç´¢åŠŸèƒ½**
- åˆæœŸ: SQL å…¨æ–‡æœç´¢ (D1 å†…ç½®)
- åæœŸ: Cloudflare Workers AI (å¦‚éœ€é«˜çº§æœç´¢)

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### è¡¨ç»“æ„

#### **users** - ç”¨æˆ·è¡¨
```sql
CREATE TABLE users (
  id TEXT PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  name TEXT,
  username TEXT UNIQUE,
  avatar_url TEXT,
  provider TEXT NOT NULL, -- 'google' | 'twitter'
  provider_id TEXT NOT NULL,
  bio TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### **books** - ä¹¦ç±ä¸»è¡¨ï¼ˆå»é‡ï¼‰
```sql
CREATE TABLE books (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  author TEXT NOT NULL,
  isbn TEXT,
  cover_url TEXT,
  description TEXT,
  publisher TEXT,
  publish_date TEXT,
  page_count INTEGER,
  language TEXT DEFAULT 'en',
  is_graphic_novel BOOLEAN DEFAULT 1, -- 1=æ˜¯, 0=éGN
  external_id TEXT, -- Google Books ID
  external_source TEXT, -- 'google_books' | 'open_library'
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(external_source, external_id)
);
```

#### **user_books** - ç”¨æˆ·ä¹¦ç±å…³ç³»ï¼ˆé˜…è¯»è®°å½•ï¼‰
```sql
CREATE TABLE user_books (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  book_id TEXT NOT NULL,
  status TEXT DEFAULT 'read', -- 'read' | 'want_to_read' | 'reading'
  rating INTEGER CHECK(rating >= 1 AND rating <= 5),
  review TEXT,
  notes TEXT, -- ç§äººç¬”è®°
  added_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,
  UNIQUE(user_id, book_id)
);
```

#### **categories** - åˆ†ç±»è¡¨
```sql
CREATE TABLE categories (
  id TEXT PRIMARY KEY,
  name TEXT UNIQUE NOT NULL,
  slug TEXT UNIQUE NOT NULL,
  description TEXT,
  created_by TEXT, -- NULL = ç³»ç»Ÿé»˜è®¤
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL
);
```

#### **tags** - æ ‡ç­¾è¡¨
```sql
CREATE TABLE tags (
  id TEXT PRIMARY KEY,
  name TEXT UNIQUE NOT NULL,
  slug TEXT UNIQUE NOT NULL,
  created_by TEXT,
  use_count INTEGER DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL
);
```

#### **book_categories** - ä¹¦ç±åˆ†ç±»å…³ç³»
```sql
CREATE TABLE book_categories (
  book_id TEXT NOT NULL,
  category_id TEXT NOT NULL,
  PRIMARY KEY (book_id, category_id),
  FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,
  FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE
);
```

#### **book_tags** - ä¹¦ç±æ ‡ç­¾å…³ç³»
```sql
CREATE TABLE book_tags (
  book_id TEXT NOT NULL,
  tag_id TEXT NOT NULL,
  PRIMARY KEY (book_id, tag_id),
  FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,
  FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
);
```

#### **comments** - è¯„è®ºè¡¨
```sql
CREATE TABLE comments (
  id TEXT PRIMARY KEY,
  book_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  parent_id TEXT, -- ç”¨äºå›å¤è¯„è®º
  content TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (parent_id) REFERENCES comments(id) ON DELETE CASCADE
);
```

#### **likes** - ç‚¹èµè¡¨ï¼ˆè¯„è®ºç‚¹èµï¼‰
```sql
CREATE TABLE likes (
  user_id TEXT NOT NULL,
  comment_id TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (user_id, comment_id),
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (comment_id) REFERENCES comments(id) ON DELETE CASCADE
);
```

#### **follows** - å…³æ³¨å…³ç³»
```sql
CREATE TABLE follows (
  follower_id TEXT NOT NULL,
  following_id TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (follower_id, following_id),
  FOREIGN KEY (follower_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (following_id) REFERENCES users(id) ON DELETE CASCADE
);
```

#### **book_stats** - ä¹¦ç±ç»Ÿè®¡ï¼ˆä¼˜åŒ–æŸ¥è¯¢ï¼‰
```sql
CREATE TABLE book_stats (
  book_id TEXT PRIMARY KEY,
  read_count INTEGER DEFAULT 0,
  want_to_read_count INTEGER DEFAULT 0,
  rating_avg REAL DEFAULT 0,
  rating_count INTEGER DEFAULT 0,
  comment_count INTEGER DEFAULT 0,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE
);
```

### ç´¢å¼•ä¼˜åŒ–
```sql
-- å¸¸ç”¨æŸ¥è¯¢ç´¢å¼•
CREATE INDEX idx_user_books_user ON user_books(user_id);
CREATE INDEX idx_user_books_book ON user_books(book_id);
CREATE INDEX idx_user_books_status ON user_books(status);
CREATE INDEX idx_comments_book ON comments(book_id);
CREATE INDEX idx_comments_user ON comments(user_id);
CREATE INDEX idx_book_stats_read_count ON book_stats(read_count DESC);
CREATE INDEX idx_book_stats_rating ON book_stats(rating_avg DESC);
CREATE INDEX idx_tags_use_count ON tags(use_count DESC);
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è¯¦ç»†è®¾è®¡

### 1. è®¤è¯ç³»ç»Ÿ

**æµç¨‹**:
```
ç”¨æˆ·ç‚¹å‡»ç™»å½• â†’ é€‰æ‹© Google/Twitter â†’ OAuth è·³è½¬ 
â†’ å›è°ƒéªŒè¯ â†’ åˆ›å»º/æ›´æ–°ç”¨æˆ·è®°å½• â†’ ç”Ÿæˆ JWT Session
```

**å®ç°**:
- ä½¿ç”¨ NextAuth.js
- é…ç½® Google OAuth 2.0
- é…ç½® Twitter OAuth 2.0
- Session å­˜å‚¨åœ¨ httpOnly cookies

### 2. æ·»åŠ ä¹¦ç±æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¾“å…¥ä¹¦å/ISBN] --> B[è°ƒç”¨ Google Books API]
    B --> C{æ‰¾åˆ°ç»“æœ?}
    C -->|æ˜¯| D[å±•ç¤ºæœç´¢ç»“æœ]
    C -->|å¦| E[æç¤ºæ‰‹åŠ¨è¾“å…¥]
    D --> F[ç”¨æˆ·é€‰æ‹©/ç¡®è®¤]
    E --> F
    F --> G{ä¹¦ç±å·²å­˜åœ¨?}
    G -->|æ˜¯| H[å…³è”åˆ°ç°æœ‰ book]
    G -->|å¦| I[åˆ›å»ºæ–° book è®°å½•]
    H --> J[åˆ›å»º user_books è®°å½•]
    I --> J
    J --> K[æ·»åŠ åˆ†ç±»å’Œæ ‡ç­¾]
    K --> L[æ›´æ–°ç»Ÿè®¡æ•°æ®]
```

**API é›†æˆç¤ºä¾‹**:
```javascript
// Google Books API æœç´¢
async function searchBooks(query) {
  const response = await fetch(
    `https://www.googleapis.com/books/v1/volumes?q=${query}&key=${API_KEY}`
  );
  const data = await response.json();
  return data.items?.map(item => ({
    externalId: item.id,
    title: item.volumeInfo.title,
    author: item.volumeInfo.authors?.[0],
    isbn: item.volumeInfo.industryIdentifiers?.[0]?.identifier,
    coverUrl: item.volumeInfo.imageLinks?.thumbnail,
    description: item.volumeInfo.description,
    // ... æ›´å¤šå­—æ®µ
  }));
}
```

### 3. ä¹¦ç±åˆå¹¶é€»è¾‘

å½“å¤šä¸ªç”¨æˆ·æ·»åŠ åŒä¸€æœ¬ä¹¦æ—¶ï¼š
1. é€šè¿‡ `external_id` æˆ– `isbn` åˆ¤æ–­æ˜¯å¦å·²å­˜åœ¨
2. å¦‚æœå­˜åœ¨ï¼Œåªåˆ›å»ºæ–°çš„ `user_books` è®°å½•
3. æ›´æ–° `book_stats` çš„ `read_count`
4. è¯¦æƒ…é¡µæ˜¾ç¤º"X äººè¯»è¿‡"

### 4. çƒ­é—¨æ¨èç®—æ³•

**æœ¬å‘¨æœ€å—æ¬¢è¿**:
```sql
SELECT b.*, bs.read_count, bs.rating_avg
FROM books b
JOIN book_stats bs ON b.id = bs.book_id
JOIN user_books ub ON b.id = ub.book_id
WHERE ub.added_at >= datetime('now', '-7 days')
GROUP BY b.id
ORDER BY COUNT(*) DESC, bs.rating_avg DESC
LIMIT 10;
```

**ç»¼åˆè¯„åˆ†**: ç»“åˆé˜…è¯»äººæ•°ã€è¯„åˆ†ã€è¯„è®ºæ•°
```
score = (read_count * 0.5) + (rating_avg * rating_count * 0.3) + (comment_count * 0.2)
```

### 5. åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ

**é¢„è®¾åˆ†ç±»**ï¼ˆåˆå§‹æ•°æ®ï¼‰:
- ä¾¦æ¢ (Detective)
- æƒ…æ„Ÿ (Romance)
- éè™šæ„ (Non-fiction)
- ä¼ è®° (Biography)
- ç§‘å¹» (Sci-Fi)
- å¥‡å¹» (Fantasy)
- è¶…çº§è‹±é›„ (Superhero)
- ææ€– (Horror)
- å†å² (Historical)

**æ ‡ç­¾**:
- ç”¨æˆ·è‡ªç”±åˆ›å»º
- è‡ªåŠ¨è®°å½•ä½¿ç”¨æ¬¡æ•°
- æ˜¾ç¤ºçƒ­é—¨æ ‡ç­¾ (use_count > 10)
- æ”¯æŒæ ‡ç­¾æœç´¢å’Œè‡ªåŠ¨è¡¥å…¨

### 6. ç¤¾äº¤åŠŸèƒ½

**è¯„åˆ†ç³»ç»Ÿ**:
- 1-5 æ˜Ÿè¯„åˆ†
- å­˜å‚¨åœ¨ `user_books.rating`
- è‡ªåŠ¨æ›´æ–° `book_stats.rating_avg` å’Œ `rating_count`

**è¯„è®ºç³»ç»Ÿ**:
- æ”¯æŒå›å¤ï¼ˆ`parent_id`ï¼‰
- æ”¯æŒç‚¹èµ (`likes` è¡¨)
- æŒ‰æ—¶é—´æˆ–ç‚¹èµæ•°æ’åº

**å…³æ³¨ç³»ç»Ÿ**:
- ç”¨æˆ·å¯ä»¥å…³æ³¨å…¶ä»–è¯»è€…
- é¦–é¡µå±•ç¤ºå…³æ³¨çš„äººæœ€è¿‘æ·»åŠ çš„ä¹¦

**åˆ†äº«**:
- ç”Ÿæˆä¹¦ç±åˆ†äº«é“¾æ¥
- æ”¯æŒåˆ†äº«åˆ° Twitter/X
- Open Graph æ ‡ç­¾ä¼˜åŒ–é¢„è§ˆ

---

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

### é…è‰²æ–¹æ¡ˆ

**æš—è‰²ä¸»é¢˜**ï¼ˆä¸»é¢˜è‰²ï¼‰:
```css
:root {
  /* ä¸»è‰²è°ƒ - ä¼˜é›…çš„è“ç´«è‰² */
  --primary: hsl(240, 60%, 58%);
  --primary-hover: hsl(240, 65%, 65%);
  
  /* èƒŒæ™¯ */
  --bg-primary: hsl(230, 25%, 10%);
  --bg-secondary: hsl(230, 20%, 15%);
  --bg-tertiary: hsl(230, 18%, 20%);
  
  /* æ–‡å­— */
  --text-primary: hsl(0, 0%, 95%);
  --text-secondary: hsl(0, 0%, 70%);
  --text-muted: hsl(0, 0%, 50%);
  
  /* å¼ºè°ƒè‰² */
  --accent-green: hsl(150, 60%, 50%);
  --accent-orange: hsl(30, 90%, 60%);
  --accent-red: hsl(0, 70%, 60%);
  
  /* è¾¹æ¡† */
  --border: hsl(230, 15%, 25%);
  
  /* é˜´å½± */
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}
```

**æµ…è‰²ä¸»é¢˜**:
```css
[data-theme="light"] {
  --primary: hsl(240, 60%, 48%);
  --bg-primary: hsl(0, 0%, 98%);
  --bg-secondary: hsl(0, 0%, 95%);
  --bg-tertiary: hsl(0, 0%, 90%);
  --text-primary: hsl(0, 0%, 10%);
  --text-secondary: hsl(0, 0%, 30%);
  --border: hsl(0, 0%, 85%);
  --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
```

### ç»„ä»¶è®¾è®¡

**ä¹¦ç±å¡ç‰‡**:
- å°é¢å›¾ 3:4 æ¯”ä¾‹
- Hover æ•ˆæœï¼šå¾®å¾®ä¸Šæµ® + é˜´å½±åŠ æ·±
- è¯„åˆ†æ˜Ÿæ˜ŸåŠ¨ç”»
- "View book" æŒ‰é’®å¸¦æ¸å˜èƒŒæ™¯

**åŠ¨ç”»æ•ˆæœ**:
- é¡µé¢åˆ‡æ¢ï¼šæ·¡å…¥æ·¡å‡º
- å¡ç‰‡åŠ è½½ï¼šä»ä¸‹å¾€ä¸Šæ¸ç°ï¼ˆé”™å¼€å»¶è¿Ÿï¼‰
- æŒ‰é’® hoverï¼šå¹³æ»‘ç¼©æ”¾
- è¯„åˆ†æ˜Ÿæ˜Ÿï¼šå¡«å……åŠ¨ç”»

---

## ğŸ“± å“åº”å¼è®¾è®¡

### æ–­ç‚¹
```css
/* Mobile */
@media (max-width: 640px) { /* 2 åˆ—ç½‘æ ¼ */ }

/* Tablet */
@media (min-width: 641px) and (max-width: 1024px) { /* 3-4 åˆ— */ }

/* Desktop */
@media (min-width: 1025px) { /* 5-6 åˆ— */ }
```

---

## ğŸš€ éƒ¨ç½²åˆ° Cloudflare

### éƒ¨ç½²æ­¥éª¤

1. **å‡†å¤‡å·¥ä½œ**:
   - æ³¨å†Œ Cloudflare è´¦å·
   - å®‰è£… Wrangler CLI: `npm install -g wrangler`
   - è¿æ¥ GitHub ä»“åº“

2. **Cloudflare Pages è®¾ç½®**:
   - Framework: Next.js
   - Build command: `npm run build`
   - Build output: `.next`
   - Node version: 18+

3. **ç¯å¢ƒå˜é‡é…ç½®**:
   ```
   NEXTAUTH_URL=https://panelverse.pages.dev
   NEXTAUTH_SECRET=<ç”Ÿæˆéšæœºå¯†é’¥>
   GOOGLE_CLIENT_ID=<Google OAuth>
   GOOGLE_CLIENT_SECRET=<Google OAuth>
   TWITTER_CLIENT_ID=<Twitter OAuth>
   TWITTER_CLIENT_SECRET=<Twitter OAuth>
   GOOGLE_BOOKS_API_KEY=<API Key>
   D1_DATABASE_ID=<Cloudflare D1 ID>
   R2_BUCKET_NAME=<R2 Bucket>
   ```

4. **åˆ›å»º D1 æ•°æ®åº“**:
   ```bash
   wrangler d1 create panelverse-db
   wrangler d1 execute panelverse-db --file=./database/schema.sql
   ```

5. **åˆ›å»º R2 å­˜å‚¨æ¡¶**:
   ```bash
   wrangler r2 bucket create panelverse-covers
   ```

6. **ç»‘å®šèµ„æº** (wrangler.toml):
   ```toml
   name = "panelverse"
   
   [[d1_databases]]
   binding = "DB"
   database_name = "panelverse-db"
   database_id = "<YOUR_DATABASE_ID>"
   
   [[r2_buckets]]
   binding = "COVERS"
   bucket_name = "panelverse-covers"
   ```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ä¼˜åŒ–ç­–ç•¥
1. **å›¾ç‰‡ä¼˜åŒ–**:
   - Next.js Image ç»„ä»¶
   - WebP æ ¼å¼
   - æ‡’åŠ è½½
   - Cloudflare Image Resizing

2. **æ•°æ®ç¼“å­˜**:
   - çƒ­é—¨ä¹¦ç±ç¼“å­˜ (Workers KV)
   - API å“åº”ç¼“å­˜ (1å°æ—¶)
   - CDN ç¼“å­˜é™æ€èµ„æº

3. **æ•°æ®åº“ä¼˜åŒ–**:
   - åˆç†ä½¿ç”¨ç´¢å¼•
   - åˆ†ç¦»ç»Ÿè®¡æ•°æ®è¡¨ (`book_stats`)
   - é¿å… N+1 æŸ¥è¯¢

---

## ğŸ” å®‰å…¨è€ƒè™‘

1. **è®¤è¯å®‰å…¨**:
   - HTTPS only
   - httpOnly cookies
   - CSRF ä¿æŠ¤ (NextAuth å†…ç½®)

2. **æ•°æ®éªŒè¯**:
   - åç«¯éªŒè¯æ‰€æœ‰è¾“å…¥
   - SQL æ³¨å…¥é˜²æŠ¤ (å‚æ•°åŒ–æŸ¥è¯¢)
   - XSS é˜²æŠ¤ (React è‡ªåŠ¨è½¬ä¹‰)

3. **é€Ÿç‡é™åˆ¶**:
   - API è°ƒç”¨é™åˆ¶ (Cloudflare Workers)
   - é˜²æ­¢æ»¥ç”¨æ·»åŠ ä¹¦ç±

---

## ğŸ“… å®æ–½è·¯çº¿å›¾

### Phase 1: MVP (2-3 å‘¨)
- [ ] åŸºç¡€ UI æ¡†æ¶
- [ ] ç”¨æˆ·è®¤è¯ (Google + Twitter)
- [ ] ä¹¦ç±æœç´¢å’Œæ·»åŠ  (Google Books API)
- [ ] ä¸ªäººä¹¦åº“ç®¡ç†
- [ ] åŸºç¡€åˆ†ç±»å’Œæ ‡ç­¾
- [ ] ä¹¦ç±è¯¦æƒ…é¡µ
- [ ] éƒ¨ç½²åˆ° Cloudflare Pages

### Phase 2: ç¤¾åŒºåŠŸèƒ½ (1-2 å‘¨)
- [ ] è¯„åˆ†ç³»ç»Ÿ
- [ ] è¯„è®ºåŠŸèƒ½
- [ ] å…³æ³¨ç³»ç»Ÿ
- [ ] çƒ­é—¨æ¨èç®—æ³•
- [ ] æœç´¢åŠŸèƒ½ä¼˜åŒ–

### Phase 3: å¢å¼ºä½“éªŒ (1 å‘¨)
- [ ] åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“
- [ ] é«˜çº§ç­›é€‰å’Œæ’åº
- [ ] ç”¨æˆ·ç»Ÿè®¡çœ‹æ¿
- [ ] é€šçŸ¥ç³»ç»Ÿï¼ˆæ–°è¯„è®ºã€æ–°å…³æ³¨ï¼‰
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–

### Phase 4: ä¼˜åŒ–å’Œæ‰©å±•
- [ ] æ€§èƒ½ç›‘æ§
- [ ] SEO ä¼˜åŒ–
- [ ] æ¨èç®—æ³•æ”¹è¿›
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½

---

## ğŸ’° æˆæœ¬ä¼°ç®—ï¼ˆCloudflare å…è´¹é¢åº¦ï¼‰

**å®Œå…¨å…è´¹ç›´åˆ°è§„æ¨¡æ‰©å¤§**:
- Cloudflare Pages: æ— é™å¸¦å®½
- D1 æ•°æ®åº“: 5GB å­˜å‚¨ï¼Œæ¯å¤© 100k è¯»å–
- R2 å­˜å‚¨: 10GB å­˜å‚¨ï¼Œæ¯æœˆ 100k è¯»å–
- Workers: æ¯å¤© 100k è¯·æ±‚

é¢„è®¡æ”¯æŒ **1000+ ç”¨æˆ·** å’Œ **10k+ ä¹¦ç±** å®Œå…¨å…è´¹ï¼

---

*Built with â¤ï¸ for the graphic novel community*
